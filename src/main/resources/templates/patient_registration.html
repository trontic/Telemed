<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="../static/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <title>eDnevnik tlaka - Registracija</title>
</head>
<body>

<div class="container">
    <div class="row justify-content-center border">
        <div class="col-sm-12 col-md-8 col-lg-6">
            <div class="pt-2">
                <h1 class="centered-text custom-color">eDnevnik tlaka</h1>
                <div class="centered-text row mb-2 custom-color fs-4">
                    <span>Registracija</span>
                </div>
            </div>
            <form action="/patientRegistration">
                <div class="row form-group">
                    <div class="col-12">
                        <label for="fname" class="col-form-label">Ime:</label>
                        <input type="text" th:value="${fname}" class="form-control" id="fname" name="fname" placeholder="Ime" pattern="[a-zA-ZčćžšđČĆŽŠĐ-]+" required>
                    </div>
                    <div class="col-12">
                        <label for="lname" class="col-form-label">Prezime:</label>
                        <input type="text" th:value="${lname}" class="form-control" id="lname" name="lname" placeholder="Prezime" pattern="[a-zA-ZčćžšđČĆŽŠĐ-]+" required>
                    </div>
                    <div class="col-12">
                        <label for="birthday" class="col-form-label">Datum rođenja:</label>
                        <input type="date" th:value="${birthday}" class="form-control" id="birthday" name="birthday" placeholder="Datum rođenja" min="1900-01-01" max="2023-01-01" required>
                    </div>
                    <div class="col-12">
                        <label for="mbo" class="col-form-label">MBO:</label>
                        <input type="number" th:value="${mbo}" class="form-control" id="mbo" name="mbo" placeholder="MBO s Vaše zdravstvene kartice" min="100000000" max="999999999" required>
                    </div>
                    <div class="col-12">
                        <label for="number" class="col-form-label">Broj mobitela:</label>
                        <input type="text" th:value="${number}" class="form-control" id="number" name="number" placeholder="Broj mobitela" pattern="^\+?([0-9]{1,3})?[-. ]?(\([0-9]{1,3}\)|[0-9]{1,3})[-. ]?([0-9]{1,4})[-. ]?([0-9]{1,4})[-. ]?([0-9]{1,4})$" required>
                    </div>
                    <div class="col-12">
                        <label for="email" class="col-form-label">Email:</label>
                        <input type="email" th:value="${email}"class="form-control" id="email" name="email" placeholder="Email" pattern="(\w\.?)+@[\w\.-]+\.\w{2,}">
                    </div>
                    <div class="col-12">
                        <label for="password" class="col-form-label">Lozinka:</label>
                        <input type="password" th:value="${password}" class="form-control" id="password" name="password" placeholder="Lozinka" minlength="3" required>
                    </div>
                    <div class="col-12">
                        <label for="confirmNewPassword" class="col-form-label">Lozinka ponovo:</label>
                        <input type="password" th:value="${confirmPassword}" class="form-control" id="confirmNewPassword" name="confirmPassword" placeholder="Ponovite lozinku" minlength="3" required>
                    </div>
                </div>
                <div class="d-flex align-items-center mt-2">
                    <label for="allowAccess" class="mb-0 me-5"><a href="#" data-bs-toggle="modal" data-bs-target="#myModal">
                        Pročitao sam i dajem privolu </a>za korištenje mojih podataka</label>
                    <input type="checkbox" id="allowAccess" class="form-check-input mt-0" name="allowAccess">
                </div>
                <p th:if="${accessError}" class="text-danger" style="margin-top: 10px;">Da biste se mogli služiti aplikacijom morate dati privolu za korištenje Vaših podataka!</p>
                <p th:if="${passwordMismatch}" class="text-danger">Lozinke nisu iste!</p>
                <p th:if="${passwordLengthError}" class="text-danger">Unesite lozinku od barem 5 znakova!</p>
                <div class="input-group mt-3">
                    <button class="btn btn-og btn-primary col-12 mb-2" type="submit">Spremi</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- The Modal -->
<div class="modal" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Privola za Korištenje Osobnih Podataka</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                Na web stranici www.ednevnik-tlaka.net, prikupljaju se, obrađuju i pohranjuju osobni podaci
                registriranih korisnika. Podaci koji se prikupljaju su: ime i prezime, datum rođenja,
                matični broj osiguranika pri HZZO-u, broj mobilnog telefona, email adresa, vrijednosti izmjerenog
                sistoličkog i dijastoličkog tlaka, puls te konzumirana redovita i izvanredna terapija. Svi osobni
                podaci preneseni putem Interneta zaštićeni su koristeći Secure Socket Layer (SSL) tehnologiju. Ovo
                osigurava da su svi podaci šifrirani tijekom prijenosa, čime se sprječava neovlašteni pristup ili
                presretanje podataka tijekom komunikacije između vašeg uređaja i naših poslužitelja. Vaši osobni
                podaci bit će pohranjeni uz poštovanje najviših standarda sigurnosti kako bi se osigurala njihova
                zaštita od neovlaštenog pristupa ili zloupotrebe. Svi naši poslužitelji nalaze se unutar teritorija
                Europske unije, osiguravajući time da se svi vaši osobni podaci obrađuju u skladu s Općom
                uredbom o zaštiti podataka (GDPR). Ovaj pristup osigurava visoke standarde sigurnosti i poštivanje
                relevantnih zakona o zaštiti podataka na području Europske unije. Imate pravo u bilo kojem trenutku
                povući svoju privolu za korištenje osobnih podataka, međutim to znači da se više nećete moći služiti
                aplikacijom. Povlačenjem privole sve vaše podatke ćemo s naših poslužitelja nepovratno izbrisati.
                Povlačenje privole možete izvršiti slanjem zahtjeva na info@ednevnik-tlaka.net.
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Zatvori</button>
            </div>

        </div>
    </div>
</div>

</body>
</html>